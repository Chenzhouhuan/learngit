\hypertarget{classmuduo_1_1net_1_1HttpServer}{}\section{Http\+Server类 参考}
\label{classmuduo_1_1net_1_1HttpServer}\index{Http\+Server@{Http\+Server}}


{\ttfamily \#include $<$Http\+Server.\+h$>$}



类 Http\+Server 继承关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=193pt]{classmuduo_1_1net_1_1HttpServer__inherit__graph}
\end{center}
\end{figure}


Http\+Server 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmuduo_1_1net_1_1HttpServer__coll__graph}
\end{center}
\end{figure}
\subsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef std\+::function$<$ void(const \hyperlink{classmuduo_1_1net_1_1HttpRequest}{Http\+Request} \&, \hyperlink{classmuduo_1_1net_1_1HttpResponse}{Http\+Response} $\ast$)$>$ \hyperlink{classmuduo_1_1net_1_1HttpServer_ab343d6a3f751b7fb50940f92c64b6578}{Http\+Callback}
\end{DoxyCompactItemize}
\subsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmuduo_1_1net_1_1HttpServer_a497e7b9c047a6b99d3727de450774988}{Http\+Server} (\hyperlink{classmuduo_1_1net_1_1EventLoop}{Event\+Loop} $\ast$loop, const \hyperlink{classmuduo_1_1net_1_1InetAddress}{Inet\+Address} \&listen\+Addr, const string \&name, \hyperlink{classmuduo_1_1net_1_1TcpServer_a0e65ad13124ea2cb5e255b640464e35f}{Tcp\+Server\+::\+Option} option=\hyperlink{classmuduo_1_1net_1_1TcpServer_a0e65ad13124ea2cb5e255b640464e35fa5ddf56db99b3883a1c729e8b6873bbf5}{Tcp\+Server\+::k\+No\+Reuse\+Port})
\item 
\hyperlink{classmuduo_1_1net_1_1EventLoop}{Event\+Loop} $\ast$ \hyperlink{classmuduo_1_1net_1_1HttpServer_aef1cbfe0592e8196e6c81b4db82a39ce}{get\+Loop} () const
\item 
void \hyperlink{classmuduo_1_1net_1_1HttpServer_ac46810c8853d92daeea2753cc270dccb}{set\+Http\+Callback} (const \hyperlink{classmuduo_1_1net_1_1HttpServer_ab343d6a3f751b7fb50940f92c64b6578}{Http\+Callback} \&cb)
\begin{DoxyCompactList}\small\item\em Not thread safe, callback be registered before calling \hyperlink{classmuduo_1_1net_1_1HttpServer_a60de64d75454385b23995437f1d72669}{start()}. \end{DoxyCompactList}\item 
void \hyperlink{classmuduo_1_1net_1_1HttpServer_a83bb28d139df96ba9fc449b4643f2c36}{set\+Thread\+Num} (int num\+Threads)
\item 
void \hyperlink{classmuduo_1_1net_1_1HttpServer_a60de64d75454385b23995437f1d72669}{start} ()
\end{DoxyCompactItemize}
\subsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classmuduo_1_1net_1_1HttpServer_ae085355191b9979cba83ee65fb969fcb}{on\+Connection} (const \hyperlink{namespacemuduo_1_1net_ab91a46e9290926aa692450e46cfc9039}{Tcp\+Connection\+Ptr} \&conn)
\item 
void \hyperlink{classmuduo_1_1net_1_1HttpServer_affde82cb1aeae31f8ce39103fa4cd358}{on\+Message} (const \hyperlink{namespacemuduo_1_1net_ab91a46e9290926aa692450e46cfc9039}{Tcp\+Connection\+Ptr} \&conn, \hyperlink{classmuduo_1_1net_1_1Buffer}{Buffer} $\ast$buf, \hyperlink{classmuduo_1_1Timestamp}{Timestamp} receive\+Time)
\item 
void \hyperlink{classmuduo_1_1net_1_1HttpServer_a39f88c74f26fed6e5d98de09075f4c1b}{on\+Request} (const \hyperlink{namespacemuduo_1_1net_ab91a46e9290926aa692450e46cfc9039}{Tcp\+Connection\+Ptr} \&, const \hyperlink{classmuduo_1_1net_1_1HttpRequest}{Http\+Request} \&)
\end{DoxyCompactItemize}
\subsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmuduo_1_1net_1_1TcpServer}{Tcp\+Server} \hyperlink{classmuduo_1_1net_1_1HttpServer_a5fa2c354b57a31cc2b5ed74583f853ad}{server\+\_\+}
\item 
\hyperlink{classmuduo_1_1net_1_1HttpServer_ab343d6a3f751b7fb50940f92c64b6578}{Http\+Callback} \hyperlink{classmuduo_1_1net_1_1HttpServer_ab296b28a88834c853b076a5a25ba76a7}{http\+Callback\+\_\+}
\end{DoxyCompactItemize}


\subsection{详细描述}
A simple embeddable H\+T\+TP server designed for report status of a program. It is not a fully H\+T\+TP 1.\+1 compliant server, but provides minimum features that can communicate with Http\+Client and Web browser. It is synchronous, just like Java Servlet. 

在文件 Http\+Server.\+h 第 28 行定义.



\subsection{成员类型定义说明}
\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_ab343d6a3f751b7fb50940f92c64b6578}\label{classmuduo_1_1net_1_1HttpServer_ab343d6a3f751b7fb50940f92c64b6578}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!Http\+Callback@{Http\+Callback}}
\index{Http\+Callback@{Http\+Callback}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{Http\+Callback}{HttpCallback}}
{\footnotesize\ttfamily typedef std\+::function$<$void (const \hyperlink{classmuduo_1_1net_1_1HttpRequest}{Http\+Request}\&, \hyperlink{classmuduo_1_1net_1_1HttpResponse}{Http\+Response}$\ast$)$>$ \hyperlink{classmuduo_1_1net_1_1HttpServer_ab343d6a3f751b7fb50940f92c64b6578}{Http\+Callback}}



在文件 Http\+Server.\+h 第 32 行定义.



\subsection{构造及析构函数说明}
\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_a497e7b9c047a6b99d3727de450774988}\label{classmuduo_1_1net_1_1HttpServer_a497e7b9c047a6b99d3727de450774988}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!Http\+Server@{Http\+Server}}
\index{Http\+Server@{Http\+Server}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{Http\+Server()}{HttpServer()}}
{\footnotesize\ttfamily \hyperlink{classmuduo_1_1net_1_1HttpServer}{Http\+Server} (\begin{DoxyParamCaption}\item[{\hyperlink{classmuduo_1_1net_1_1EventLoop}{Event\+Loop} $\ast$}]{loop,  }\item[{const \hyperlink{classmuduo_1_1net_1_1InetAddress}{Inet\+Address} \&}]{listen\+Addr,  }\item[{const string \&}]{name,  }\item[{\hyperlink{classmuduo_1_1net_1_1TcpServer_a0e65ad13124ea2cb5e255b640464e35f}{Tcp\+Server\+::\+Option}}]{option = {\ttfamily \hyperlink{classmuduo_1_1net_1_1TcpServer_a0e65ad13124ea2cb5e255b640464e35fa5ddf56db99b3883a1c729e8b6873bbf5}{Tcp\+Server\+::k\+No\+Reuse\+Port}} }\end{DoxyParamCaption})}



\subsection{成员函数说明}
\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_aef1cbfe0592e8196e6c81b4db82a39ce}\label{classmuduo_1_1net_1_1HttpServer_aef1cbfe0592e8196e6c81b4db82a39ce}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!get\+Loop@{get\+Loop}}
\index{get\+Loop@{get\+Loop}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{get\+Loop()}{getLoop()}}
{\footnotesize\ttfamily \hyperlink{classmuduo_1_1net_1_1EventLoop}{Event\+Loop}$\ast$ get\+Loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



在文件 Http\+Server.\+h 第 39 行定义.



参考 Tcp\+Server\+::get\+Loop() , 以及 Http\+Server\+::server\+\_\+.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmuduo_1_1net_1_1HttpServer_aef1cbfe0592e8196e6c81b4db82a39ce_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_ae085355191b9979cba83ee65fb969fcb}\label{classmuduo_1_1net_1_1HttpServer_ae085355191b9979cba83ee65fb969fcb}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!on\+Connection@{on\+Connection}}
\index{on\+Connection@{on\+Connection}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{on\+Connection()}{onConnection()}}
{\footnotesize\ttfamily void on\+Connection (\begin{DoxyParamCaption}\item[{const \hyperlink{namespacemuduo_1_1net_ab91a46e9290926aa692450e46cfc9039}{Tcp\+Connection\+Ptr} \&}]{conn }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



参考自 Http\+Server\+::set\+Thread\+Num().

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{classmuduo_1_1net_1_1HttpServer_ae085355191b9979cba83ee65fb969fcb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_affde82cb1aeae31f8ce39103fa4cd358}\label{classmuduo_1_1net_1_1HttpServer_affde82cb1aeae31f8ce39103fa4cd358}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!on\+Message@{on\+Message}}
\index{on\+Message@{on\+Message}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{on\+Message()}{onMessage()}}
{\footnotesize\ttfamily void on\+Message (\begin{DoxyParamCaption}\item[{const \hyperlink{namespacemuduo_1_1net_ab91a46e9290926aa692450e46cfc9039}{Tcp\+Connection\+Ptr} \&}]{conn,  }\item[{\hyperlink{classmuduo_1_1net_1_1Buffer}{Buffer} $\ast$}]{buf,  }\item[{\hyperlink{classmuduo_1_1Timestamp}{Timestamp}}]{receive\+Time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



参考自 Http\+Server\+::set\+Thread\+Num().

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{classmuduo_1_1net_1_1HttpServer_affde82cb1aeae31f8ce39103fa4cd358_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_a39f88c74f26fed6e5d98de09075f4c1b}\label{classmuduo_1_1net_1_1HttpServer_a39f88c74f26fed6e5d98de09075f4c1b}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!on\+Request@{on\+Request}}
\index{on\+Request@{on\+Request}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{on\+Request()}{onRequest()}}
{\footnotesize\ttfamily void on\+Request (\begin{DoxyParamCaption}\item[{const \hyperlink{namespacemuduo_1_1net_ab91a46e9290926aa692450e46cfc9039}{Tcp\+Connection\+Ptr} \&}]{,  }\item[{const \hyperlink{classmuduo_1_1net_1_1HttpRequest}{Http\+Request} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



参考自 Http\+Server\+::set\+Thread\+Num().

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{classmuduo_1_1net_1_1HttpServer_a39f88c74f26fed6e5d98de09075f4c1b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_ac46810c8853d92daeea2753cc270dccb}\label{classmuduo_1_1net_1_1HttpServer_ac46810c8853d92daeea2753cc270dccb}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!set\+Http\+Callback@{set\+Http\+Callback}}
\index{set\+Http\+Callback@{set\+Http\+Callback}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{set\+Http\+Callback()}{setHttpCallback()}}
{\footnotesize\ttfamily void set\+Http\+Callback (\begin{DoxyParamCaption}\item[{const \hyperlink{classmuduo_1_1net_1_1HttpServer_ab343d6a3f751b7fb50940f92c64b6578}{Http\+Callback} \&}]{cb }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Not thread safe, callback be registered before calling \hyperlink{classmuduo_1_1net_1_1HttpServer_a60de64d75454385b23995437f1d72669}{start()}. 



在文件 Http\+Server.\+h 第 42 行定义.



参考 Http\+Server\+::http\+Callback\+\_\+.

\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_a83bb28d139df96ba9fc449b4643f2c36}\label{classmuduo_1_1net_1_1HttpServer_a83bb28d139df96ba9fc449b4643f2c36}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!set\+Thread\+Num@{set\+Thread\+Num}}
\index{set\+Thread\+Num@{set\+Thread\+Num}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{set\+Thread\+Num()}{setThreadNum()}}
{\footnotesize\ttfamily void set\+Thread\+Num (\begin{DoxyParamCaption}\item[{int}]{num\+Threads }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



在文件 Http\+Server.\+h 第 47 行定义.



参考 Http\+Server\+::on\+Connection(), Http\+Server\+::on\+Message(), Http\+Server\+::on\+Request(), Http\+Server\+::server\+\_\+, Tcp\+Server\+::set\+Thread\+Num() , 以及 Http\+Server\+::start().

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{classmuduo_1_1net_1_1HttpServer_a83bb28d139df96ba9fc449b4643f2c36_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_a60de64d75454385b23995437f1d72669}\label{classmuduo_1_1net_1_1HttpServer_a60de64d75454385b23995437f1d72669}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!start@{start}}
\index{start@{start}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



参考自 Http\+Server\+::set\+Thread\+Num().

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{classmuduo_1_1net_1_1HttpServer_a60de64d75454385b23995437f1d72669_icgraph}
\end{center}
\end{figure}


\subsection{类成员变量说明}
\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_ab296b28a88834c853b076a5a25ba76a7}\label{classmuduo_1_1net_1_1HttpServer_ab296b28a88834c853b076a5a25ba76a7}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!http\+Callback\+\_\+@{http\+Callback\+\_\+}}
\index{http\+Callback\+\_\+@{http\+Callback\+\_\+}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{http\+Callback\+\_\+}{httpCallback\_}}
{\footnotesize\ttfamily \hyperlink{classmuduo_1_1net_1_1HttpServer_ab343d6a3f751b7fb50940f92c64b6578}{Http\+Callback} http\+Callback\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



在文件 Http\+Server.\+h 第 62 行定义.



参考自 Http\+Server\+::set\+Http\+Callback().

\mbox{\Hypertarget{classmuduo_1_1net_1_1HttpServer_a5fa2c354b57a31cc2b5ed74583f853ad}\label{classmuduo_1_1net_1_1HttpServer_a5fa2c354b57a31cc2b5ed74583f853ad}} 
\index{muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}!server\+\_\+@{server\+\_\+}}
\index{server\+\_\+@{server\+\_\+}!muduo\+::net\+::\+Http\+Server@{muduo\+::net\+::\+Http\+Server}}
\subsubsection{\texorpdfstring{server\+\_\+}{server\_}}
{\footnotesize\ttfamily \hyperlink{classmuduo_1_1net_1_1TcpServer}{Tcp\+Server} server\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



在文件 Http\+Server.\+h 第 61 行定义.



参考自 Http\+Server\+::get\+Loop() , 以及 Http\+Server\+::set\+Thread\+Num().



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
lib/muduo/net/http/\hyperlink{HttpServer_8h}{Http\+Server.\+h}\end{DoxyCompactItemize}
